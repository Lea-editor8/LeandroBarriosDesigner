---

---

<div
    id="projectModal"
    class="fixed inset-0 z-50 hidden overflow-y-auto"
    aria-labelledby="modal-title"
    role="dialog"
    aria-modal="true"
>
    <!-- Backdrop -->
    <div
        class="fixed inset-0 bg-gray-900/75 backdrop-blur-sm transition-opacity"
        aria-hidden="true"
        id="modalBackdrop"
    >
    </div>

    <div
        class="flex min-h-full items-center justify-center p-4 text-center sm:p-0"
    >
        <div
            class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl opacity-0 scale-95"
            id="modalContentPanel"
        >
            <!-- Close Button -->
            <button
                type="button"
                id="closeModal"
                class="absolute right-4 top-4 z-10 rounded-full bg-black/50 p-2 text-white hover:bg-black/70 focus:outline-none focus:ring-2 focus:ring-white"
            >
                <svg
                    class="h-6 w-6"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

            <div class="flex flex-col md:flex-row">
                <!-- Image Section -->
                <div
                    class="md:w-3/5 bg-gray-100 flex items-center justify-center p-0"
                >
                    <img
                        id="modalImage"
                        src=""
                        alt="Project Image"
                        class="w-full h-auto max-h-[80vh] object-contain object-center"
                    />
                </div>

                <!-- Details Section -->
                <div
                    class="md:w-2/5 p-6 sm:p-8 flex flex-col justify-center bg-white dark:bg-gray-800"
                >
                    <h3
                        class="text-2xl font-bold leading-6 text-gray-900 dark:text-white mb-4 font-lato"
                        id="modalTitle"
                    >
                    </h3>
                    <div class="mt-2 text-gray-600 dark:text-gray-300">
                        <p
                            class="text-base leading-relaxed font-lato"
                            id="modalDescription"
                        >
                        </p>
                    </div>
                    <!-- Additional details or dynamic link could go here if extracted from data -->
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Script logic to handle modal open/close
    document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("projectModal");
        const backdrop = document.getElementById("modalBackdrop");
        const closeBtn = document.getElementById("closeModal");
        const contentPanel = document.getElementById("modalContentPanel");
        const modalImage = document.getElementById(
            "modalImage",
        ) as HTMLImageElement;
        const modalTitle = document.getElementById("modalTitle");
        const modalDescription = document.getElementById("modalDescription");

        function openModal(fullImageUrl, title, description) {
            if (
                !modal ||
                !modalImage ||
                !modalTitle ||
                !modalDescription ||
                !contentPanel
            )
                return;

            modalImage.src = fullImageUrl;
            modalTitle.textContent = title;
            modalDescription.textContent = description;

            modal.classList.remove("hidden");
            // Animation entry
            requestAnimationFrame(() => {
                contentPanel.classList.remove("opacity-0", "scale-95");
                contentPanel.classList.add("opacity-100", "scale-100");
            });
            document.body.style.overflow = "hidden"; // Prevent background scrolling
        }

        function closeModal() {
            if (!modal || !contentPanel) return;

            // Animation exit
            contentPanel.classList.remove("opacity-100", "scale-100");
            contentPanel.classList.add("opacity-0", "scale-95");

            setTimeout(() => {
                modal.classList.add("hidden");
                if (modalImage) modalImage.src = "";
                if (modalTitle) modalTitle.textContent = "";
                if (modalDescription) modalDescription.textContent = "";
                document.body.style.overflow = ""; // Restore scrolling
            }, 200); // Wait for transition
        }

        // Event Delegation for Project Items
        document.addEventListener("click", (e) => {
            const target = (e.target as HTMLElement).closest(".project-item");
            if (target) {
                // Check if it's an external link (which shouldn't open modal)
                if (
                    target.tagName === "A" &&
                    target.getAttribute("target") === "_blank"
                ) {
                    return;
                }

                const fullImage = target.getAttribute("data-full-image");
                const title = target.getAttribute("data-project-title");
                const description = target.getAttribute(
                    "data-project-description",
                );

                if (fullImage && title && description) {
                    e.preventDefault();
                    openModal(fullImage, title, description);
                }
            }
        });

        closeBtn?.addEventListener("click", closeModal);
        backdrop?.addEventListener("click", closeModal);

        // Close on Escape key
        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && !modal?.classList.contains("hidden")) {
                closeModal();
            }
        });
    });
</script>
